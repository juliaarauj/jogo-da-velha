<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Jogo da Velha | Cyber Grid</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    /* ... (seu CSS completo continua igual, sem alteraÃ§Ãµes) ... */
  </style>
</head>
<body>
  <h1>[ C Y B E R G R I D ]</h1>

  <div class="placar" id="placar">
    ğŸŸ£ Jogador X: 0 | ğŸŸ¦ Jogador O: 0
  </div>

  <div class="tabuleiro">
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
  </div>

  <button onclick="reiniciar()">ğŸ” Reiniciar Jogo</button>

  <!-- ğŸ”Š Ãudio de vitÃ³ria personalizado -->
  <audio id="som-vitoria" src="vitoria.mp3" preload="auto"></audio>

  <!-- ğŸ”Š Ãudio de clique -->
  <audio id="som-clique" src="click.mp3" preload="auto"></audio>

  <script>
    const casas = document.querySelectorAll(".casa");
    const placar = document.getElementById("placar");
    const somVitoria = document.getElementById("som-vitoria");
    const somClique = document.getElementById("som-clique"); // ğŸ”Š

    let jogador = "X";
    let vitorias = { X: 0, O: 0 };
    let jogoEncerrado = false;

    // Desbloquear os sons com o primeiro clique do usuÃ¡rio
    window.addEventListener('click', () => {
      [somVitoria, somClique].forEach(som => {
        som.play().then(() => {
          som.pause();
          som.currentTime = 0;
        }).catch(() => {});
      });
    }, { once: true });

    const combinacoes = [
      [0, 1, 2], [3, 4, 5], [6, 7, 8],
      [0, 3, 6], [1, 4, 7], [2, 5, 8],
      [0, 4, 8], [2, 4, 6]
    ];

    casas.forEach((casa) => casa.addEventListener("click", clique));

    function clique(event) {
      const casa = event.target;

      if (casa.textContent !== "" || jogoEncerrado) return;

      // ğŸ”Š Tocar som de clique
      somClique.currentTime = 0;
      somClique.play();

      casa.textContent = jogador;
      casa.classList.add(jogador === "X" ? "x-move" : "o-move");

      if (checarVencedor()) {
        somVitoria.currentTime = 0;
        somVitoria.play();

        setTimeout(() => {
          alert("ParabÃ©ns! Jogador " + jogador + " venceu!");
        }, 100);

        vitorias[jogador]++;
        atualizarPlacar();
        jogoEncerrado = true;
      } else if (checarEmpate()) {
        alert("Empate! ğŸ˜");
        jogoEncerrado = true;
      } else {
        jogador = jogador === "X" ? "O" : "X";
      }
    }

    function checarVencedor() {
      for (const combinacao of combinacoes) {
        const [a, b, c] = combinacao;
        if (
          casas[a].textContent === jogador &&
          casas[b].textContent === jogador &&
          casas[c].textContent === jogador
        ) {
          casas[a].classList.add("vitoria");
          casas[b].classList.add("vitoria");
          casas[c].classList.add("vitoria");
          return true;
        }
      }
      return false;
    }

    function checarEmpate() {
      return [...casas].every((casa) => casa.textContent !== "");
    }

    function atualizarPlacar() {
      placar.textContent = `ğŸŸ£ Jogador X: ${vitorias.X} | ğŸŸ¦ Jogador O: ${vitorias.O}`;
    }

    function reiniciar() {
      casas.forEach((casa) => {
        casa.textContent = "";
        casa.classList.remove("x-move", "o-move", "vitoria");
      });
      jogador = "X";
      jogoEncerrado = false;

      somVitoria.pause();
      somVitoria.currentTime = 0;
    }
  </script>
</body>
</html>

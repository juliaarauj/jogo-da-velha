
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Jogo da Velha | Cyber Grid</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet" />
  <style>
    body {
      background-color: #1a1a2e;
      color: #e94560;
      font-family: 'Orbitron', sans-serif;
      text-align: center;
      padding: 20px;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    h1 {
      color: #66ff00;
      font-size: 3.5rem;
      text-shadow: 0 0 5px #66ff00, 0 0 10px #66ff00, 0 0 20px #00ff00;
      margin-bottom: 10px;
    }

    .placar {
      font-size: 1.5rem;
      margin-bottom: 20px;
      color: #fff;
    }

    .tabuleiro {
      background: #0f0f1a;
      display: grid;
      grid-template-columns: repeat(3, 130px);
      grid-template-rows: repeat(3, 130px);
      gap: 10px;
      padding: 15px;
      border-radius: 10px;
      border: 3px solid #3f3f6e;
      box-shadow: 0 0 15px rgba(102, 255, 0, 0.5);
    }

    .casa {
      background: #2b2b45;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 6rem;
      cursor: pointer;
      border: 1px solid #4a4e69;
      transition: background-color 0.1s, transform 0.1s;
      user-select: none;
      border-radius: 5px;
    }

    .casa:hover {
      background-color: #3f3f6e;
      transform: scale(1.02);
    }

    .x-move {
      color: #ff00ff;
      text-shadow: 0 0 5px #ff00ff, 0 0 10px #ff00ff;
    }

    .o-move {
      color: #00ffff;
      text-shadow: 0 0 5px #00ffff, 0 0 10px #00ffff;
    }

    .vitoria {
      background-color: #66ff00 !important;
      box-shadow: 0 0 10px #66ff00, 0 0 20px #66ff00;
      animation: brilhar 1s infinite alternate;
    }

    @keyframes brilhar {
      from {
        transform: scale(1);
      }
      to {
        transform: scale(1.05);
      }
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 1rem;
      background-color: #66ff00;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      color: #000;
      font-weight: bold;
      box-shadow: 0 0 10px #66ff00;
    }

    button:hover {
      background-color: #52cc00;
    }
  </style>
</head>
<body>
  <h1>[ C Y B E R G R I D ]</h1>

  <div class="placar" id="placar">
    游릮 Jogador X: 0 | 游릱 Jogador O: 0
  </div>

  <div class="tabuleiro">
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
    <div class="casa"></div>
  </div>

  <button onclick="reiniciar()">游대 Reiniciar Jogo</button>

  <!-- 츼udio de vit칩ria personalizado -->
  <audio id="som-vitoria" src="vitoria.mp3" preload="auto"></audio>

  <script>
    const casas = document.querySelectorAll(".casa");
    const placar = document.getElementById("placar");
    const somVitoria = document.getElementById("som-vitoria");

    let jogador = "X";
    let vitorias = { X: 0, O: 0 };
    let jogoEncerrado = false;

    // Desbloquear o 치udio com o primeiro clique do usu치rio
    window.addEventListener('click', () => {
      somVitoria.play().then(() => {
        somVitoria.pause();
        somVitoria.currentTime = 0;
      }).catch(() => {});
    }, { once: true });

    const combinacoes = [
      [0, 1, 2],
      [3, 4, 5],
      [6, 7, 8],
      [0, 3, 6],
      [1, 4, 7],
      [2, 5, 8],
      [0, 4, 8],
      [2, 4, 6]
    ];

    casas.forEach((casa) => casa.addEventListener("click", clique));

    function clique(event) {
      const casa = event.target;

      if (casa.textContent !== "" || jogoEncerrado) return;

      casa.textContent = jogador;
      casa.classList.add(jogador === "X" ? "x-move" : "o-move");

      if (checarVencedor()) {
        // Toca o som antes do alert (para evitar bloqueio)
        somVitoria.currentTime = 0;
        somVitoria.play();

        setTimeout(() => {
          alert("Parab칠ns! Jogador " + jogador + " venceu!");
        }, 100);

        vitorias[jogador]++;
        atualizarPlacar();
        jogoEncerrado = true;
      } else if (checarEmpate()) {
        alert("Empate! 游땛");
        jogoEncerrado = true;
      } else {
        jogador = jogador === "X" ? "O" : "X";
      }
    }

    function checarVencedor() {
      for (const combinacao of combinacoes) {
        const [a, b, c] = combinacao;
        if (
          casas[a].textContent === jogador &&
          casas[b].textContent === jogador &&
          casas[c].textContent === jogador
        ) {
          casas[a].classList.add("vitoria");
          casas[b].classList.add("vitoria");
          casas[c].classList.add("vitoria");
          return true;
        }
      }
      return false;
    }

    function checarEmpate() {
      return [...casas].every((casa) => casa.textContent !== "");
    }

    function atualizarPlacar() {
      placar.textContent = `游릮 Jogador X: ${vitorias.X} | 游릱 Jogador O: ${vitorias.O}`;
    }

    function reiniciar() {
      casas.forEach((casa) => {
        casa.textContent = "";
        casa.classList.remove("x-move", "o-move", "vitoria");
      });
      jogador = "X";
      jogoEncerrado = false;
    }
  </script>
</body>
</html>
